<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <head th:replace="fragments :: headSection">
  </head>
<body>
<!--Aufbau der Seite-->
<div class="center">
  <div th:insert="~{fragments :: header}"></div>
  <br>
  <div th:insert="~{fragments :: inputFields}"></div>
  <div th:if="${errorMessage != null}" class="alert alert-danger">
    <span th:text="${errorMessage}"></span>
  </div>
  <br>
  <div th:insert="~{fragments :: buttons}"></div>
  <div class="table-container" th:if="${!daten.isEmpty()}">
  <table>
      <thead>
      <tr>
        <!-- Dynamische Generierung aller Spaltenüberschriften basierend auf columnOrder -->
        <th class="center border-head" th:each="col : ${columnOrder}" th:text="${col}"></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="datenItem : ${daten}">
        <!-- Explizite Datenzelle für 'vSnapshotVMName' -->
        <td class="center" th:text="${datenItem['vSnapshotVMName']}"></td>

          <!-- Explizite Datenzelle für 'vSnapshotVMName' -->
          <td class="center" th:text="${datenItem.vSnapshotVMName}"></td>

          <!-- Explizite Datenzelle für 'vSnapshotVISDKServer' -->
          <td class="center" th:text="${datenItem.vSnapshotVISDKServer}"></td>

          <!-- Explizite Datenzelle für 'vSnapshotHost' -->
          <td class="center" th:text="${datenItem.vSnapshotHost}"></td>

          <!-- Explizite Datenzelle für 'upload_index' -->
          <td class="center" th:text="${datenItem.upload_index}"></td>

          <!-- Explizite Datenzelle für 'import_date' -->
          <td class="center" th:text="${datenItem.import_date}"></td>

      </tr>
      </tbody>
    </table>
  </div>

  <!-- Modal-Dialog / Excel Datei hochgeladen -->
  <div th:insert="~{fragments :: excelUploadedModal}"></div>
</div>
</div>
<!--Am Ende des Codes, damit sichergestellt wird, dass gesamte DOM geladen wird, bevor das Script ausgeführt wird-->
<script type="text/javascript" th:src="@{/script.js}"></script>
</body>
</html>
